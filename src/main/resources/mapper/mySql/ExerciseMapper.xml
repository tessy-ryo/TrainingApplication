<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- Mapperとxmlのマッピング -->
<mapper namespace="com.example.repository.ExerciseMapper">

<!-- 部位複数件取得 -->
<select id = "findBodyParts" resultType="BodyParts">
SELECT
	*
FROM
	training.body_parts
</select>

<!-- 筋トレ種目複数件取得 -->
<select id="getExercisesByBodyPart" resultType="Exercise">
SELECT
	id,name
FROM
	training.exercises
WHERE
	body_part_id=#{bodyPartId}
</select>

<select id="findWeightBased" resultType="int">
SELECT
	weight_based
FROM 
	training.exercises
WHERE
	id=#{exerciseId}
</select>

<insert id="insertExerciseData">
	insert into training.exercise_records(
		user_id
		,exercise_id
		,date
		,weight
		,reps
		)
		values(
		#{userId}
		,#{exerciseId}
		,#{date}
		,#{weight}
		,#{reps}
		)
</insert>

</mapper>